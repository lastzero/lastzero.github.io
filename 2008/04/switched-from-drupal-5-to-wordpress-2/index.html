<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="theme-color" content="#0074c5">

<meta property="og:title" content="Switched from Drupal 5 to WordPress 2.5" />
<meta property="og:description" content="After having trouble with the Drupal upgrade I decided to give WordPress a try. The funny thing is to copy the existing posts to the new tables. If you got the same problem, you can use this view:
 CREATE VIEW wp_import AS SELECT a.nid AS ID, 1 AS post_author, FROM_UNIXTIME(a.created) AS post_date, FROM_UNIXTIME(a.created) AS post_date_gmt, b.body AS post_content, b.title AS post_title, 0 AS post_category, b.teaser AS post_except, &#8216;publish&#8217; AS post_status, &#8216;open&#8217; AS comment_status, &#8216;open&#8217; AS ping_status, &#8221; AS post_password, &#8216;post&#8217; &#43; a." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.liquidbytes.net/2008/04/switched-from-drupal-5-to-wordpress-2/" /><meta property="article:published_time" content="2008-04-30T11:37:27&#43;00:00"/>
<meta property="article:modified_time" content="2008-04-30T11:37:27&#43;00:00"/>

<meta property="og:image" content="https://blog.liquidbytes.net/img/thumbnail.jpg">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Switched from Drupal 5 to WordPress 2.5"/>
<meta name="twitter:description" content="After having trouble with the Drupal upgrade I decided to give WordPress a try. The funny thing is to copy the existing posts to the new tables. If you got the same problem, you can use this view:
 CREATE VIEW wp_import AS SELECT a.nid AS ID, 1 AS post_author, FROM_UNIXTIME(a.created) AS post_date, FROM_UNIXTIME(a.created) AS post_date_gmt, b.body AS post_content, b.title AS post_title, 0 AS post_category, b.teaser AS post_except, &#8216;publish&#8217; AS post_status, &#8216;open&#8217; AS comment_status, &#8216;open&#8217; AS ping_status, &#8221; AS post_password, &#8216;post&#8217; &#43; a."/>

<meta property="twitter:image" content="https://blog.liquidbytes.net/img/thumbnail.jpg">


    <meta name="description" content="">
    <link rel="canonical" href="https://blog.liquidbytes.net/2008/04/switched-from-drupal-5-to-wordpress-2/">

    
    <title>Switched from Drupal 5 to WordPress 2.5</title>

    <link rel="shortcut icon" href="/favicon.ico" />

    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/css/materialize.min.css" type="text/css" media="screen,projection"/>
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" media="screen,projection"/>
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen,projection"/>

    

    
  </head>
  <body class="">
    
      


<div class="navbar-fixed">
    <nav class="white" role="navigation">
        <div class="nav-wrapper container">
            <a id="logo-container" href="/" class="brand-logo right"><img src="/img/logo.png" title="Liquid Bytes" class="hide-on-small-only" />
<img src="/img/logo-small.png" title="Liquid Bytes" class="show-on-small hide-on-med-and-up" /></a>
            <ul class="left hide-on-med-and-down">
            
            


            
<li>
    <a class="black-text" href="/">Blog</a>
</li>

        


            
<li>
    <a class="black-text" href="/about/">About</a>
</li>

        


            
<li>
    <a class="black-text" href="/opensource/">Open Source</a>
</li>

        


            
<li>
    <a class="black-text" href="/contact/">Contact</a>
</li>

        



            </ul>

            <a href="#" data-target="nav-mobile" class="sidenav-trigger grey-text text-darken-4"><i class="material-icons">menu</i></a>
        </div>
    </nav>
</div>

<ul id="nav-mobile" class="sidenav">
    <li><div class="info-view white-text">
        <div class="background">
            <img src="/img/sidebar.jpg">
        </div>
        <h3><span class="dark-shadow">Software Engineering &amp; Management Blog</span></h3>
    </div></li>
    
    


            
<li>
    <a class="black-text" href="/">Blog</a>
</li>

        


            
<li>
    <a class="black-text" href="/about/">About</a>
</li>

        


            
<li>
    <a class="black-text" href="/opensource/">Open Source</a>
</li>

        


            
<li>
    <a class="black-text" href="/contact/">Contact</a>
</li>

        



</ul>
    

    <main>
    

<article class="max-width">
    
    <section class="row">
        <div class="col s12 m10 offset-m1 l10 offset-l1">
            <h1>Switched from Drupal 5 to WordPress 2.5</h1>
        </div>
    </section>

    
    

    
    <section class="row">
        <div class="col s12 m8 offset-m2 l2 offset-l1">
            

<p class="article-meta">
    <div class="article-meta-container">
        <div class="article-meta-author-name">Michael Mayer</div>
        <div class="article-meta-description"></div>
    </div>
    <span class="article-meta-published-at grey-text text-darken-1">Apr 30, 2008</span>
</p>
        </div>
        <div class="col s12 m8 offset-m2 l6">
            

<p><a href="http://www.nulldevice.de/wp-content/uploads/2008/04/wp-20-button.gif"><img class="alignright size-full wp-image-764" title="WordPress Logo" src="http://www.nulldevice.de/wp-content/uploads/2008/04/wp-20-button.gif" alt="" width="212" height="68" /></a>After having trouble with the Drupal upgrade I decided to give WordPress a try. The funny thing is to copy the existing posts to the new tables. If you got the same problem, you can use this view:</p>

<blockquote>
<p>CREATE VIEW wp_import AS SELECT a.nid AS ID, 1 AS post_author, FROM_UNIXTIME(a.created) AS post_date, FROM_UNIXTIME(a.created) AS post_date_gmt, b.body AS post_content, b.title AS post_title, 0 AS post_category, b.teaser AS post_except, &#8216;publish&#8217; AS post_status, &#8216;open&#8217; AS comment_status, &#8216;open&#8217; AS ping_status, &#8221; AS post_password, &#8216;post&#8217; + a.nid AS post_name, &#8221; AS to_ping, &#8221; AS pinged, FROM_UNIXTIME(a.changed) AS post_modified, FROM_UNIXTIME(a.changed) AS post_modified_gmt, &#8221; AS post_content_filtered, 0 AS post_parent, a.nid AS guid, 0 AS menu_order, &#8216;post&#8217; AS post_type, &#8221; AS post_mime_type, 0 AS comment_count FROM node a JOIN node_revisions b ON a.nid = b.nid WHERE a.type = &#8216;blog&#8217; AND a.nid &gt; 1 AND a.status = 1;</p>
</blockquote>

<p>Then you can easily import all your stuff (without the images, sorry):</p>

<blockquote>
<p>INSERT wordpress.wp_posts SELECT * FROM wp_import;</p>
</blockquote>

<p>Wanna convert your custom markup to HTML? No problem, just run this query (works for cached content only, so you might want to click on each of your older posts once as a quick fix):</p>

<blockquote>
<p>UPDATE wordpress.wp_posts w, (SELECT a.nid, b.data AS filtered FROM node_revisions a, cache_filter b WHERE CONCAT_WS(&#8216;:&#8217;, a.format, MD5(a.body)) = b.cid) AS c SET post_content = c.filtered WHERE c.filtered IS NOT NULL AND w.ID = c.nid;</p>
</blockquote>

<p>There might be a way to import a Drupal blog via RSS as well &#8211; let&#8217;s see if somebody answers to my <a href="http://wordpress.org/support/topic/173244" target="_blank">posting</a> on the WordPress support forum.</p>

<h3 id="update-6-5-2008">Update (6.5.2008)</h3>

<p>I found another blog post that explains <a href="http://www.darcynorman.net/2007/05/15/how-to-migrate-from-drupal-5-to-wordpress-2/">how to migrate from Drupal 5 to WordPress 2.0</a>. The provided SQL script also converts categories and comments, which mine does not. However, it does not care about input filters, so Wikicode will not be converted to HTML. The perfect solution would be a combination of our scripts ;)</p>

        </div>
    </section>
</article>


    </main>

    
      <footer class="page-footer grey darken-3 white-text">
    <div class="row max-width">
        <div class="col s10 l10 offset-l1 offset-s1 clear-padding">
            <div class="row">
    
        
    

    
    
    <div class="col s12 l6">
        <h5 class="white-text">About the author</h5>
<p class="white-text">
    Michael learned coding on an Atari 1040 ST and started his first open-source projects in the 90s.
    He has more than 20 years of experience in leading teams and building Web applications.
</p>
    </div>

    
        <div class="col s12 l4 offset-l2">
            
            
            
                <div class="col s6 clear-padding">
                    


<h5 class="white-text">Links</h5>
<ul>
    
    <li>
        <a class="white-text" href="https://github.com/lastzero">GitHub</a>
    </li>
    
    <li>
        <a class="white-text" href="https://twitter.com/lastzero">Twitter</a>
    </li>
    
    <li>
        <a class="white-text" href="https://www.linkedin.com/in/lastzero/">LinkedIn</a>
    </li>
    
</ul>

                </div>
            
                <div class="col s6 clear-padding">
                    


<h5 class="white-text">Projects</h5>
<ul>
    
    <li>
        <a class="white-text" href="https://photoprism.org/">PhotoPrism</a>
    </li>
    
    <li>
        <a class="white-text" href="https://github.com/lastzero/tweethog">TweetHog</a>
    </li>
    
    <li>
        <a class="white-text" href="https://github.com/symlex">Symlex</a>
    </li>
    
</ul>

                </div>
            
        </div>
    
</div>


        </div>
    </div>
    <div class="footer-copyright grey darken-4">
        <div class="row max-width" style="width: 100%;">
            <div class="col s10 l10 offset-l1 offset-s1">
                <span class="white-text" style="line-height: 31px">You are free to share</span>
<div class="right">
    <a href="https://creativecommons.org/licenses/by-nd/4.0/"><img src="/img/license.png" title="CC BY-ND 4.0" /></a>
</div>
            </div>
        </div>
    </div>
</footer>
    

    
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="/js/materialize.min.js"></script>
    <script src="/js/init.js"></script>
  </body>
</html>