<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="theme-color" content="#0074c5">

<meta property="og:title" content="Howto: WWAN on a Lenovo ThinkPad X100e with Ubuntu 10.04" />
<meta property="og:description" content="I could not find a single correct and useful description how to get the Gobi™ 2000 PCI Express Mini Card, that is built into some Lenovo ThinkPad X100e models, to work with Ubuntu Linux 10.04 LTS &#8220;Lucid Lynx&#8221; on Google (which is identical to the Internet). Therefore I want to share my knowledge with you, before I forget everything. This howto might also work for other notebooks that use the same WWAN/UMTS/3G card (like the ThinkPad T410)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.liquidbytes.net/2010/06/wwan-lenovo-thinkpad-x100e-ubuntu-10-04/" /><meta property="article:published_time" content="2010-06-19T13:08:06&#43;00:00"/>
<meta property="article:modified_time" content="2010-06-19T13:08:06&#43;00:00"/>

<meta property="og:image" content="https://blog.liquidbytes.net/img/thumbnail.jpg">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Howto: WWAN on a Lenovo ThinkPad X100e with Ubuntu 10.04"/>
<meta name="twitter:description" content="I could not find a single correct and useful description how to get the Gobi™ 2000 PCI Express Mini Card, that is built into some Lenovo ThinkPad X100e models, to work with Ubuntu Linux 10.04 LTS &#8220;Lucid Lynx&#8221; on Google (which is identical to the Internet). Therefore I want to share my knowledge with you, before I forget everything. This howto might also work for other notebooks that use the same WWAN/UMTS/3G card (like the ThinkPad T410)."/>

<meta property="twitter:image" content="https://blog.liquidbytes.net/img/thumbnail.jpg">


    <meta name="description" content="">
    <link rel="canonical" href="https://blog.liquidbytes.net/2010/06/wwan-lenovo-thinkpad-x100e-ubuntu-10-04/">

    
    <title>Howto: WWAN on a Lenovo ThinkPad X100e with Ubuntu 10.04</title>

    <link rel="shortcut icon" href="/favicon.ico" />

    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/css/materialize.min.css" type="text/css" media="screen,projection"/>
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" media="screen,projection"/>
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen,projection"/>

    

    
  </head>
  <body class="">
    
      


<div class="navbar-fixed">
    <nav class="white" role="navigation">
        <div class="nav-wrapper container">
            <a id="logo-container" href="/" class="brand-logo right"><img src="/img/logo.png" title="Liquid Bytes" class="hide-on-small-only" srcset="/img/logo-retina.png 2x" />
<img src="/img/logo-small.png" title="Liquid Bytes" class="show-on-small hide-on-med-and-up" srcset="/img/logo-small-retina.png 2x" /></a>
            <ul class="left hide-on-med-and-down">
            
            


            
<li>
    <a href="/">Blog</a>
</li>

        


            
<li>
    <a href="/about/">About</a>
</li>

        


            
<li>
    <a href="/opensource/">Open Source</a>
</li>

        


            
<li>
    <a href="/contact/">Contact</a>
</li>

        



            </ul>

            <a href="#" data-target="nav-mobile" class="sidenav-trigger grey-text text-darken-4"><i class="material-icons">menu</i></a>
        </div>
    </nav>
</div>

<ul id="nav-mobile" class="sidenav">
    <li><div class="info-view white-text">
        <div class="background">
            <img src="/img/sidebar.jpg">
        </div>
        <h3><span class="dark-shadow">Software Engineering &amp; Management Blog</span></h3>
    </div></li>
    
    


            
<li>
    <a href="/">Blog</a>
</li>

        


            
<li>
    <a href="/about/">About</a>
</li>

        


            
<li>
    <a href="/opensource/">Open Source</a>
</li>

        


            
<li>
    <a href="/contact/">Contact</a>
</li>

        



</ul>
    

    <main>
    

<article class="max-width">
    
    <section class="row">
        <div class="col s12 m10 offset-m1 l10 offset-l1">
            <h1>Howto: WWAN on a Lenovo ThinkPad X100e with Ubuntu 10.04</h1>
        </div>
    </section>

    
    

    
    <section class="row">
        <div class="col s12 m8 offset-m2 l2 offset-l1">
            

<p class="article-meta">
    <div class="article-meta-container">
        <div class="article-meta-author-name">Michael Mayer</div>
        <div class="article-meta-description"></div>
    </div>
    <span class="article-meta-published-at grey-text text-darken-1">Jun 19, 2010</span>
</p>
        </div>
        <div class="col s12 m8 offset-m2 l6">
            <p>I could not find a single correct and useful description how to get the <strong>Gobi™ 2000 PCI Express Mini Card</strong>, that is built into some <strong>Lenovo ThinkPad X100e</strong> models, to work with <strong>Ubuntu Linux 10.04 LTS &#8220;Lucid Lynx&#8221;</strong> on Google (which is identical to the Internet). Therefore I want to share my knowledge with you, before I forget everything. This howto <strong>might also work for other notebooks</strong> that use the same WWAN/UMTS/3G card (like the <strong>ThinkPad T410</strong>).</p>

<ol>
<li>First you should <strong>turn off</strong> and open your notebook at the bottom by removing the 7 screws. Inside, you will see the <strong>sim card socket</strong> and instructions how to use it (it&#8217;s <strong>not</strong> too obvious). If you got another ThinkPad model like the T410, the sim card needs to be installed differently, for example behind the battery pack.</li>
<li>If you did not install Ubuntu yet and Windows 7 is still there, then get the files <strong>amss.mbn</strong>, <strong>apps.mbn</strong> and <strong>UQCN.mbn</strong> from the directory <em>C:\Program Files (x86)\QUALCOMM\Images\Lenovo</em> &#8211; the first two files are in the &#8220;UMTS&#8221; sub-directory, the other one is in &#8220;0&#8221;. As I didn&#8217;t have my Windows 7 partition on the X100e anymore, I simply copied the files from a ThinkPad T410. If you don&#8217;t have a copy of these files, you will find some advice at <a href="http://www.thinkwiki.org/wiki/Talk:Qualcomm_Gobi_2000">http://www.thinkwiki.org/wiki/Talk:Qualcomm_Gobi_2000</a>.</li>
<li><strong>If you did not install Ubuntu yet, do it now!</strong> The X100e has no DVD drive, so you need to download the ISO image from ubuntu.com and then create a <strong>bootable USB stick</strong>. The free tool <a href="http://unetbootin.sourceforge.net/">http://unetbootin.sourceforge.net/</a> can be used for that. Use the <strong>64bit version</strong> of Ubuntu, as the X100e supports <strong>up to 8GB</strong> of memory and you don&#8217;t want to re-install everything after an upgrade. I know the Ubuntu Web site says that it is not recommended for daily desktop usage &#8211; this is nonsense.</li>
<li><strong>Don&#8217;t use the proprietary ATI graphics driver.</strong> Uninstall or disable it. It will break with the new kernel.</li>
<li><strong>Download</strong> the latest version of the gobi loader from <a href="http://www.codon.org.uk/~mjg59/gobi_loader/download/">http://www.codon.org.uk/~mjg59/gobi_loader/download/</a></li>
<li>Untar the files using _tar -xzf gobi<em>loader-0.6.tar.gz</em>, change into the directory and then install the tool via the usual <em>make</em> and <em>sudo make install</em> procedure.</li>
<li>Now <strong>copy the files</strong> amss.mbn, apps.mbn and UQCN.mbn to <strong>/lib/firmware/gobi/</strong>: <em>sudo cp amss.mbn apps.mbn UQCN.mbn /lib/firmware/gobi</em></li>
<li><strong>Get the latest mainline kernel</strong> from <a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/">http://kernel.ubuntu.com/~kernel-ppa/mainline/</a> &#8211; I am using <strong>v2.6.35-rc1-lucid</strong>, but as kernel development does not stop, you should check if there is a later version available. The important thing is that the directory ends with -lucid for Ubuntu 10.04. If you use an older version, you can try v2.6.34-rc2, but I am not sure, if that will work as well. You need to download the kernel <strong>headers</strong> and <strong>image for your architecture</strong> (i386/32bit or amd64/64bit) <strong>only</strong>.</li>
<li>Follow the instructions on <a href="https://wiki.ubuntu.com/KernelTeam/MainlineBuilds">https://wiki.ubuntu.com/KernelTeam/MainlineBuilds</a> &#8211; if there are other .deb files in the current directory (where you downloaded the kernel files in the previous step), then you can not use <em>sudo dpkg -i *.deb</em>, but need to explicitly list the deb files: <em>sudo dpkg -i linux-headers-2.6.27-02062715-generic_2.6.27-02062715_amd64.deb linux-headers-2.6.27-02062715_2.6.27-02062715_all.deb linux-image-2.6.27-02062715-generic_2.6.27-02062715_amd64.deb</em> (if you got the 64bit version of Ubuntu installed).</li>
<li>After restart, you will notice that your wireless connection does not work anymore. Therefore, you should <strong>wait</strong> and <strong>download the file rtl8192se_linux_2.6.0015.0127.2010.tar.gz</strong> first, for example from <a href="http://www.realtek.com.tw/downloads/downloadsView.aspx?Langid=1&amp;PNid=21&amp;PFid=48&amp;Level=5&amp;Conn=4&amp;DownTypeID=3&amp;GetDown=false&amp;Downloads=true">http://www.realtek.com.tw/downloads</a> &#8211; some people say downloads from this site were corrupted, so wish you good luck! Some people also say these drivers don&#8217;t work with a 64bit kernel. I did not experience any problems in that direction. But if you want to try, there seems to be another (older) driver for 64bit systems available for download at <a href="http://launchpadlibrarian.net/34090404/rtl8192se_linux_2.6.0010.1012.2009_64bit.tar.gz">http://launchpadlibrarian.net/34090404/rtl8192se_linux_2.6.0010.1012.2009_64bit.tar.gz</a></li>
<li>Of course, you need <strong>the build-essential package</strong> to compile the drivers: <em>sudo apt-get install build-essential &#8211;</em> now it should be safe to restart.</li>
<li>After restart, you will notice that the <strong>ThinkPad hotkeys are working now</strong>, which is another benefit of kernel 2.6.35. However you still need to compile those WLAN drivers: extract the files from the tar archive (<em>tar -xzf somefile.tar.gz</em>), change into the directory, say &#8220;<em>make</em>&#8221; and then <strong>NOT</strong> sudo make install. Instead you copy the file <strong>HAL/rtl8192/r8192se_pci.ko</strong> to /lib/modules/2.6.35-020635rc1-generic/kernel/drivers/net/wireless/ (depending on your kernel version, of course): _sudo cp HAL/rtl8192/r8192se<em>pci.ko /lib/modules/2.6.35-020635rc1-generic/kernel/drivers/net/wireless/</em></li>
<li>After a <em>sudo depmod -a</em> or a restart you can use wireless networking again.</li>
<li>Last but not least, you need to unlock your WWAN card via <em>rfkill unblock wwan</em> and you&#8217;re done! You can now create new WWAN connections using the standard <a href="http://projects.gnome.org/NetworkManager/">Gnome Network Manager</a> in the top right corner.</li>
</ol>

<p>Enjoy! xD</p>

<p>(I am not responsible for any damages)</p>

<p><strong>Update</strong></p>

<p>This table shows the contents of the individual Gobi 2000 firmware files:</p>

<table style="font-size: 11px;" border="1" cellspacing="0" cellpadding="4">
  <tr>
    <th>
      Dir
    </th>
    
    <th>
      Image
    </th>
    
    <th>
      Remarks
    </th>
  </tr>
  
  <tr>
    <td>
    </td>
    
    <td>
      Vodafone Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      1
    </td>
    
    <td>
      Verizon Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      2
    </td>
    
    <td>
      ATT Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      3
    </td>
    
    <td>
      Sprint Image
    </td>
    
    <td>
      includes special Firmware
    </td>
  </tr>
  
  <tr>
    <td>
      4
    </td>
    
    <td>
      T-Mobile Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      6
    </td>
    
    <td>
      Generic UMTS Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      7
    </td>
    
    <td>
      Telefonica Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      8
    </td>
    
    <td>
      Telecom Italia Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      9
    </td>
    
    <td>
      Orange Image
    </td>
    
    <td>
    </td>
  </tr>
  
  <tr>
    <td>
      12
    </td>
    
    <td>
      DoCoMo Image
    </td>
    
    <td>
      includes special Firmware
    </td>
  </tr>
  
  <tr>
    <td>
      UMTS
    </td>
    
    <td>
      Default Firmware
    </td>
    
    <td>
    </td>
  </tr>
</table>

        </div>
    </section>
</article>


    </main>

    
      <footer class="page-footer grey darken-3 white-text">
    <div class="row max-width">
        <div class="col s10 l10 offset-l1 offset-s1 clear-padding">
            <div class="row">
    
        
    

    
    
    <div class="col s12 l6">
        <h5 class="white-text">About the author</h5>
<p class="white-text">
    Michael learned coding on an Atari 1040 ST and started his first open-source projects in the 90s.
    He has more than 20 years of experience in leading teams and building Web applications.
</p>
    </div>

    
        <div class="col s12 l4 offset-l2">
            
            
            
                <div class="col s6 clear-padding">
                    


<h5 class="white-text">Social</h5>
<ul>
    
    <li>
        <a class="white-text" href="https://github.com/lastzero">GitHub</a>
    </li>
    
    <li>
        <a class="white-text" href="https://twitter.com/lastzero">Twitter</a>
    </li>
    
    <li>
        <a class="white-text" href="https://www.linkedin.com/in/lastzero/">LinkedIn</a>
    </li>
    
</ul>

                </div>
            
                <div class="col s6 clear-padding">
                    


<h5 class="white-text">Projects</h5>
<ul>
    
    <li>
        <a class="white-text" href="https://photoprism.org/">PhotoPrism</a>
    </li>
    
    <li>
        <a class="white-text" href="https://github.com/lastzero/tweethog">TweetHog</a>
    </li>
    
    <li>
        <a class="white-text" href="https://github.com/symlex">Symlex</a>
    </li>
    
</ul>

                </div>
            
        </div>
    
</div>


        </div>
    </div>
    <div class="footer-copyright grey darken-4">
        <div class="row max-width" style="width: 100%;">
            <div class="col s10 l10 offset-l1 offset-s1">
                <span class="white-text" style="line-height: 31px">You are free to share</span>
<div class="right">
    <a href="https://creativecommons.org/licenses/by-nd/4.0/"><img src="/img/license.png" title="CC BY-ND 4.0" /></a>
</div>
            </div>
        </div>
    </div>
</footer>
    

    
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="/js/materialize.min.js"></script>
    <script src="/js/init.js"></script>
  </body>
</html>